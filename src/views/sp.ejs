<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Chi tiết sản phẩm</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" href="/images/cat.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="/font/themify-icons-font/themify-icons/themify-icons.css">
    <link href="https://cdn.jsdelivr.net/gh/hung1001/font-awesome-pro@4cac1a6/css/all.css" rel="stylesheet" type="text/css" />
</head>

<body class="px-5" style="padding-top: 5rem;">
    <!-- header -->
    <header class="mb-5">
        <% if (message) { %>
            <p style="color: brown;">
                <%= message %>
            </p>
            <% } %>
        <nav>
            
            <div class="content-nav">
                <%- include('../views/nav.ejs', {active: "sp"}) %>
                <form>
                    <input type="text" name="search" placeholder="Tìm kiếm sản phẩm..." />
                </form>
            </div>
        </nav>
    </header>

    <div class="products">
        <div class="row row-cols-1 row-cols-md-3 g-4">     
            <% for( let index=0; index < THUOC.length; index++ ) { %>
              <div class="col d-flex align-items-stretch justify-content-center">
                <div class="card">
                  <img class="card-img-top" src="/public/uploads/<%= THUOC[index].MATHUOC %>/<%= THUOC[index].TENANH %>" alt="Card image cap">
                  <div class="card-body">
                    <h5 class="card-title"><%= THUOC[index].TENTHUOC %></h5>
                    <p class="card-text"><%= THUOC[index].CONGDUNG %></p>
                    <a href="/thuoc/<%= THUOC[index].MATHUOC %>" class="btn btn-primary stretched-link">BUY</a>
                  </div>
                </div>
              </div>  
            <% } %>
              </div>
    </div>
    
    <nav aria-label="Page navigation example" style="margin: 10px">
        <ul class="pagination justify-content-center">
        <!-- Hiển thị nút Previous nếu không phải trang đầu tiên -->
        <% if (pageNumber == -1) { %>
            <% } else { %>
            <% if (pageNumber > 1) { %>
                <li class="page-item"><a class="page-link" href="/sp?pageNumber=<%= pageNumber - 1 %>&pageSize=<%= pageSize %>" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                </a></li>
            <% } %>
            <!-- Hiển thị các nút phân trang -->
            <% for (let i=1; i <=totalPages; i++) { %>
                <% if (i===pageNumber) { %>
                    <span>
                        <li class="page-item active" style="cursor: default;"><a class="page-link"><%= i %></a></li>
                    </span>
                <% } else { %>
                    <li class="page-item"><a class="page-link" href="/sp?pageNumber=<%= i %>&pageSize=<%= pageSize %>"><%= i %></a></li>
                <% } %>
            <% } %>
        <!-- Hiển thị nút Next nếu không phải trang cuối cùng -->
            <% if (pageNumber < totalPages) { %>
                <li class="page-item"><a class="page-link" href="/sp?pageNumber=<%= pageNumber + 1 %>&pageSize=<%= pageSize %>" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a></li>
            <% } %>
        <% } %>
        </ul>
    </nav>

<!-- footer -->
    <div class="foot">
        <%- include('../views/footer.ejs') %>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>
</html>